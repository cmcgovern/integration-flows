{"id":55565,"name":"Forrester_SignEvent","userId":55170,"accountId":42187,"createdDate":"2021-06-22T15:41:29Z","steps":[{"id":544123,"onSuccess":["sendEmailAlert"],"onFailure":[],"name":"checkEventType","type":"filter","properties":{"body":"if (trigger.event.eventType == \"COMPLETED\") {\n  done(true);\n  } else {\n    done(false);\n  }"}},{"id":544125,"onSuccess":[],"onFailure":[],"name":"sendEmailAlert","type":"script","properties":{"body":"let subject = \"Signed Document Ready\";\nconst signingEvent = trigger.body.message.raw.agreementAssetEvents.filter(agreementAssetEvents => agreementAssetEvents.documentHistoryEvent.type === 'ESIGNED');\nlet email = signingEvent[0].documentHistoryEvent.actingUserEmail;\nlet asset = signingEvent[0].agreementAssetName;\nlet body = \"Your document \"+asset+\" has been signed by \"+email;\nnotify.email(config.yourEmailAddress, subject, body);\ndone({email:email,signingEvent:signingEvent});"}},{"id":544124,"onSuccess":[],"onFailure":[],"name":"signingIncomplete","type":"script","properties":{"body":"throw(error);"}},{"id":544795,"onSuccess":[],"onFailure":[],"name":"throwError","type":"script","properties":{"body":"throw(error)"}}],"triggers":[{"id":47740,"onSuccess":["checkEventType"],"onFailure":[],"type":"event","async":true,"active":true,"name":"trigger","properties":{"elementInstanceId":"${config.adobeSign}"}}],"engine":"v3","active":true,"debugLoggingEnabled":false,"singleThreaded":false,"configuration":[{"id":94754,"key":"adobeSign","name":"adobeSign","type":"elementInstance","required":true},{"id":94797,"key":"yourEmailAddress","name":"yourEmailAddress","type":"value","required":true}]}